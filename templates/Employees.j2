{% extends "main.j2" %}

<title>{% block title %}Employees{% endblock %}</title>

  <header>
    {% block header %}
    <h1>Employees</h1>
    {% endblock %}
  </header>

  {% block body %}

  <form action="{{ url_for('createEmployee') }}">
    <button class="button-primary" type="submit">Add New Employee</button>
  </form>

  <h3>Employee Search by First or Last Name or Title</h3>
  <form method='GET'>
    <input type="search" placeholder="Search..." name="searchTerm"/>
    <button type="submit">Search</button>
    <br>
    <a class="action" href="{{ url_for('Employees') }}">Clear Search Filter</a>
  </form>

  
  <table class="u-full-width">
  <thead>
    <tr>
      <th>Employee Id</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Title</th>
      <th>Date of Hire</th>
      <th>Date of Termination</th>
      <th>Phone</th>
      <th>Email</th>
      <th>Update</th>

    </tr>
  </thead>
  <tbody>
  {% for employee in Employees %}
    <tr>
      <td>{{ employee['employee_id'] }}</td>
      <td>{{ employee['first_name'] }}</td>
      <td>{{ employee['last_name'] }}</td>
      <td>{{ employee['title'] }}</td>
      <td>{{ employee['date_of_hire'] }}</td>
      <td>{{ employee['date_of_termination'] }}</td>
      <td>{{ employee['phone'] }}</td>
      <td>{{ employee['email'] }}</td>
      <td><a class="action" href="{{ url_for('updateEmployee', id=employee['employee_id']) }}">Edit</a></td>
    </tr>
  {% endfor %}
  </tbody>
</table>
  
  {% endblock %}
